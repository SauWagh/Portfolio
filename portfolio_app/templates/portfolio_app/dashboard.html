<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body {
    margin: 0;
    background: #0f051d;
    color: #fff;
    font-family: Arial, sans-serif;
}

.container {
    max-width: 1100px;
    margin: auto;
    padding: 16px;
}

.top-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 20px;
}

.btn {
    padding: 8px 12px;
    background: #444;
    color: white;
    text-decoration: none;
    border-radius: 6px;
    font-size: 14px;
}

.btn-edit { background: #3498db; }
.btn-danger { background: #e74c3c; }

.card {
    background: rgba(255,255,255,0.06);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 18px;
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
}

.media {
    width: 100%;
    max-height: 240px;
    object-fit: cover;
    border-radius: 10px;
    margin-top: 10px;
}

.text-muted {
    opacity: 0.8;
    margin-top: 8px;
}

.icon-row {
    display: flex;
    gap: 10px;
    margin-top: 10px;
    overflow: hidden;   /* CUT icons if overflow */
}

.icon {
    width: 36px;
    height: 36px;
    background: white;
    padding: 4px;
    border-radius: 8px;
    object-fit: contain;
}

/* Profile */
.profile-img {
    width: 120px;
    height: 120px;
    border-radius: 16px;
    object-fit: cover;
    display: block;
    margin-bottom: 10px;
}

/* MOBILE */
@media (max-width: 600px) {
    .card-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .btn {
        font-size: 13px;
    }
}

</style>
<body>
<div class="container">

    <div class="top-actions">
        <a href="{% url 'add' %}" class="btn">Add Project</a>
        <a href="{% url 'skill' %}" class="btn">Add Skill</a>
        <a href="{% url 'add_exp' %}" class="btn">Add Experience</a>
        <a href="{% url 'add_cer' %}" class="btn">Add Certificate</a>
        <a href="{% url 'resume' %}" class="btn">Add Resume</a>
        <a href="{% url 'home' %}" class="btn">Home</a>
    </div>

    <!-- Profile -->
    <section class="card">
        <h2>Profile</h2>
        {% if pro %}
            <img src="{{ pro.profile_image.url }}" class="profile-img">
            <a href="{% url 'profile_update' pro.id %}" class="btn btn-edit">Update</a>
        {% else %}
            <a href="{% url 'profile' %}" class="btn btn-danger">Add Profile</a>
        {% endif %}
    </section>

    <!-- Projects -->
    <h2>Projects ({{ projects|length }})</h2>
    {% for p in projects %}
        <section class="card">
            <div class="card-header">
                <h3>{{ p.project_title }}</h3>
                <div>
                    <a href="{% url 'update_project' p.id %}" class="btn btn-edit">Edit</a>
                    <a href="{% url 'delete_project' p.id %}" class="btn btn-danger">Delete</a>
                </div>
            </div>

            {% if p.project_video %}
                <video class="media" controls src="{{ p.project_video.url }}"></video>
            {% elif p.images.first %}
                <img class="media" src="{{ p.images.first.image.url }}">
            {% endif %}

            <p class="text-muted">{{ p.project_des }}</p>

            <div class="icon-row">
                {% for ic in p.icons.all %}
                    <img src="{{ ic.icon.url }}" class="icon">
                {% endfor %}
            </div>
        </section>
    {% endfor %}

 
<h2>Skills ({{ skills|length }})</h2>

<div class="card-grid" style="display: flex; flex-wrap: wrap; gap: 10px;">
{% for s in skills %}
<section class="card small-card">
    <div class="card-header">
        {% if s.icon %}
  <img src="{{ s.icon.url }}" alt="{{ s.name }}" style="height: 50px;">
{% else %}
  <img src="{% static 'default-icons/default.png' %}" alt="{{ s.name }}" style="height: 50px;">
{% endif %}

        
        <h4>{{ s.name }}</h4>
        <div>
            <a href="{% url 'update_skill' s.id %}" class="btn btn-edit">Edit</a>
            <a href="{% url 'delete_skill' s.id %}" class="btn btn-danger"
               onclick="return confirm('Delete this skill?')">
               Delete
            </a>
        </div>
    </div>

    {% if s.image %}
        <img src="{{ s.image.url }}" class="icon">
    {% endif %}
</section>
{% endfor %}
</div>


    <h2>Resume</h2>

{% if resume %}
<section class="card">
    <div class="card-header">
        <h3>My Resume</h3>
        <div>
            <a href="{% url 'resume_update' %}" class="btn btn-edit">Edit</a>
        </div>
    </div>
<a href="{% url 'resume' %}" class="btn">Add Resume</a>
        View Resume
    </a>
</section>
{% endif %}

<h2>Certifications ({{ cer|length }})</h2>

{% for c in cer %}
<section class="card">
    <div class="card-header">
        <h3>{{ c.certificate_name }}</h3>
        <div>
            <a href="{% url 'certification_update' c.id %}" class="btn btn-edit">Edit</a>
            <a href="{% url 'certification_delete' c.id %}" class="btn btn-danger"
               onclick="return confirm('Delete this certificate?')">
               Delete
            </a>
        </div>
    </div>

    {% if c.image %}
        <img src="{{ c.image.url }}" class="media">
    {% endif %}

    <p class="text-muted">{{ c.description }}</p>
</section>
{% endfor %}

<h2>Experience ({{ exe|length }})</h2>

{% for e in exe %}
<section class="card">
    <div class="card-header">
        <h3>{{ e.compony_name }}</h3>
        <p>{{ e.compony_des }}</p>
        <p>{{ e.duration }}</p>
        <div>
            <a href="{% url 'experience_update' e.id %}" class="btn btn-edit">Edit</a>
            <a href="{% url 'experience_delete' e.id %}" class="btn btn-danger">Delete</a>
        </div>
    </div>

    <p><strong>{{ e.company }}</strong></p>
    <p class="text-muted">{{ e.description }}</p>
</section>
{% endfor %}



<h2>Skills ({{ skills|length }})</h2>

<div class="card-grid" style="display: flex; flex-wrap: wrap; gap: 10px;">
{% for s in skills %}
<section class="card small-card">
    <div class="card-header">
        <img src="{{ s.icon.url }}" alt="">
        <h4>{{ s.name }}</h4>
        <div>
            <a href="{% url 'update_skill' s.id %}" class="btn btn-edit">Edit</a>
            <a href="{% url 'delete_skill' s.id %}" class="btn btn-danger"
               onclick="return confirm('Delete this skill?')">
               Delete
            </a>
        </div>
    </div>

    {% if s.image %}
        <img src="{{ s.image.url }}" class="icon">
    {% endif %}
</section>
{% endfor %}
</div>


    <h2>Resume</h2>

{% if resume %}
<section class="card">
    <div class="card-header">
        <h3>My Resume</h3>
        <div>
            <a href="{% url 'resume_update' %}" class="btn btn-edit">Edit</a>
        </div>
    </div>
<a href="{% url 'resume' %}" class="btn">Add Resume</a>
        View Resume
    </a>
</section>
{% endif %}

<h2>Certifications ({{ cer|length }})</h2>

{% for c in cer %}
<section class="card">
    <div class="card-header">
        <h3>{{ c.certificate_name }}</h3>
        <div>
            <a href="{% url 'certification_update' c.id %}" class="btn btn-edit">Edit</a>
            <a href="{% url 'certification_delete' c.id %}" class="btn btn-danger"
               onclick="return confirm('Delete this certificate?')">
               Delete
            </a>
        </div>
    </div>

    {% if c.image %}
        <img src="{{ c.image.url }}" class="media">
    {% endif %}

    <p class="text-muted">{{ c.description }}</p>
</section>
{% endfor %}

<h2>Experience ({{ exe|length }})</h2>

{% for e in exe %}
<section class="card">
    <div class="card-header">
        <h3>{{ e.compony_name }}</h3>
        <p>{{ e.compony_des }}</p>
        <p>{{ e.duration }}</p>
        <div>
            <a href="{% url 'experience_update' e.id %}" class="btn btn-edit">Edit</a>
            <a href="{% url 'experience_delete' e.id %}" class="btn btn-danger">Delete</a>
        </div>
    </div>

    <p><strong>{{ e.company }}</strong></p>
    <p class="text-muted">{{ e.description }}</p>
</section>
{% endfor %}


</div>
</body>

</html>
